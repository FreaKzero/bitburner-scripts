import { execTerm, reactClickButton } from "../lib/ui";

/** @param {import("../").NS } ns */
export async function main(ns) {
  const oldperf = window.performance.now;
  const oldexpo = Number.prototype.toExponential;
  ns.disableLog("ALL");
  ns.ui.openTail();
  ns.atExit(() => {
    window.performance.now = oldperf;
    Number.prototype.toExponential = oldexpo;
  });

  execTerm("travel Noodle Bar");
  await ns.sleep(500);
  reactClickButton("Eat noodles");
  ns.exploit();
  eval("ns.bypass(document)");
  ns.rainbow("noodles")
  Number.prototype.toExponential = function () {
    return null;
  };

  window.performance.now = function () {
    return 0;
  };
  ns.print('Close this when you got the "PrototypeTampering" archievement');

  while (true) {
    await ns.sleep(900000);
  }
}
